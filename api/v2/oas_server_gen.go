// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// GetOrganization implements getOrganization operation.
	//
	// Get single organization record.
	//
	// GET /organizations/{organizationId}
	GetOrganization(ctx context.Context, params GetOrganizationParams) (*Organization, error)
	// GetOrganizations implements getOrganizations operation.
	//
	// Get all organization records.
	//
	// GET /organizations
	GetOrganizations(ctx context.Context, params GetOrganizationsParams) (*PagedOrganizationListResponse, error)
	// GetPeople implements getPeople operation.
	//
	// Get all person records.
	//
	// GET /people
	GetPeople(ctx context.Context, params GetPeopleParams) (*PagedPersonListResponse, error)
	// GetPerson implements getPerson operation.
	//
	// Retrieve a single person record.
	//
	// GET /people/{personId}
	GetPerson(ctx context.Context, params GetPersonParams) (*Person, error)
	// SetPersonOrcid implements setPersonOrcid operation.
	//
	// Update person ORCID.
	//
	// PUT /people/{personId}/orcid
	SetPersonOrcid(ctx context.Context, req *SetPersonOrcidRequest, params SetPersonOrcidParams) error
	// SetPersonOrcidToken implements setPersonOrcidToken operation.
	//
	// Update person ORCID token.
	//
	// PUT /people/{personId}/orcid-token
	SetPersonOrcidToken(ctx context.Context, req *SetPersonOrcidTokenRequest, params SetPersonOrcidTokenParams) error
	// SetPersonRole implements setPersonRole operation.
	//
	// Update person role.
	//
	// PUT /people/{personId}/role
	SetPersonRole(ctx context.Context, req *SetPersonRoleRequest, params SetPersonRoleParams) error
	// SetPersonSettings implements setPersonSettings operation.
	//
	// Update person settings.
	//
	// PUT /people/{personId}/settings
	SetPersonSettings(ctx context.Context, req *SetPersonSettingsRequest, params SetPersonSettingsParams) error
	// SuggestOrganizations implements suggestOrganizations operation.
	//
	// Search on organization records.
	//
	// GET /organizations-suggest
	SuggestOrganizations(ctx context.Context, params SuggestOrganizationsParams) (*PagedOrganizationListResponse, error)
	// SuggestPeople implements suggestPeople operation.
	//
	// Search on person records.
	//
	// GET /people-suggest
	SuggestPeople(ctx context.Context, params SuggestPeopleParams) (*PagedPersonListResponse, error)
	// NewError creates *ErrorStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrorStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
